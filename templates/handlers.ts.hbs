// AUTO-GENERATED - DO NOT EDIT
// Generated from OpenAPI spec: {{specTitle}} v{{specVersion}}

import { Request, Response, Express } from "express";

{{#if hasArrayItemSchemas}}
// Array item types
{{#each arrayItemSchemas}}
export interface {{name}} {
  {{#each properties}}
  {{@key}}: {{this}};
  {{/each}}
}
{{/each}}
{{/if}}

{{#if hasPathParams}}
// Path parameter types
{{#each pathParams}}
export interface {{name}} {
  {{#each properties}}
  {{@key}}: {{this}};
  {{/each}}
}
{{/each}}
{{/if}}

{{#if hasQueryParams}}
// Query parameter types
{{#each queryParams}}
export interface {{name}} {
  {{#each properties}}
  {{@key}}: {{this}};
  {{/each}}
  [key: string]: any;
}
{{/each}}
{{/if}}

{{#if hasBodySchemas}}
// Request body types
{{#each bodySchemas}}
export interface {{name}} {
  {{#each properties}}
  {{@key}}: {{this}};
  {{/each}}
}
{{/each}}
{{/if}}

{{#if hasResponseSchemas}}
// Response types
{{#each responseSchemas}}
export interface {{name}} {
  {{#each properties}}
  {{@key}}: {{this}};
  {{/each}}
}
{{/each}}
{{/if}}

// Request types for each operation
{{#each operations}}
export type {{operationId}}Request = Request<
  {{#if pathParams}}{{pathParams}}{{else}}{}{{/if}},
  {{#if responseSchema}}{{responseSchema}}{{else}}{}{{/if}},
  {{#if bodySchema}}{{bodySchema}}{{else}}{}{{/if}},
  {{#if queryParams}}{{queryParams}}{{else}}{}{{/if}}
>;
{{/each}}

// Response types for each operation
{{#each operations}}
{{#if responseSchema}}
export type {{operationId}}ResponseType = Response<{{responseSchema}}>
{{else}}
export type {{operationId}}ResponseType = Response
{{/if}}
{{/each}}

// Handler function types
export type Handlers = {
{{#each operations}}
  {{operationId}}: (req: {{operationId}}Request, res: {{operationId}}ResponseType) => void | Promise<void> | {{operationId}}ResponseType;
{{/each}}
};

// Route registration helper
export const registerHandlers = (app: Express, handlers: Handlers) => {
{{#each operations}}
  app.{{httpMethod}}('{{path}}', handlers.{{operationId}});
{{/each}}
};